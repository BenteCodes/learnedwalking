

class SimplePatternGenerator:

    '''
    base_path = Path(__file__).parent
    base_path = (base_path / 'csv/').resolve()
    path1 = (base_path / 'sinepattern.csv').resolve()
    path2 = (base_path / 'plussinepattern.csv').resolve()
    path3 = (base_path / 'blopppattern.csv').resolve()
    path4 = (base_path / 'broadsinepattern.csv').resolve()
    '''
    number_of_patterns = 6
    step_length = 1
    phase = 100
    half_phase = 50
    
    #sine = [0.0, 0.06279051952931337, 0.12533323356430426, 0.18738131458572463, 0.2486898871648548, 0.3090169943749474, 0.368124552684678, 0.4257792915650727, 0.4817536741017153, 0.5358267949789967, 0.5877852522924731, 0.6374239897486897, 0.6845471059286887, 0.7289686274214116, 0.7705132427757893, 0.8090169943749475, 0.8443279255020151, 0.8763066800438637, 0.9048270524660196, 0.9297764858882515, 0.9510565162951535, 0.9685831611286311, 0.9822872507286887, 0.9921147013144779, 0.9980267284282716, 1.0, 0.9980267284282716, 0.9921147013144778, 0.9822872507286886, 0.9685831611286311, 0.9510565162951535, 0.9297764858882513, 0.9048270524660195, 0.8763066800438635, 0.844327925502015, 0.8090169943749475, 0.7705132427757893, 0.7289686274214114, 0.6845471059286885, 0.6374239897486895, 0.5877852522924732, 0.5358267949789967, 0.4817536741017152, 0.4257792915650725, 0.36812455268467775, 0.3090169943749471, 0.24868988716485482, 0.18738131458572457, 0.1253332335643041, 0.06279051952931314, 0.0, -0.06279051952931337, -0.12533323356430426, -0.18738131458572463, -0.2486898871648548, -0.3090169943749474, -0.368124552684678, -0.4257792915650727, -0.4817536741017153, -0.5358267949789967, -0.5877852522924731, -0.6374239897486897, -0.6845471059286887, -0.7289686274214116, -0.7705132427757893, -0.8090169943749475, -0.8443279255020151, -0.8763066800438637, -0.9048270524660196, -0.9297764858882515, -0.9510565162951535, -0.9685831611286311, -0.9822872507286887, -0.9921147013144779, -0.9980267284282716, -1.0, -0.9980267284282716, -0.9921147013144778, -0.9822872507286886, -0.9685831611286311, -0.9510565162951535, -0.9297764858882513, -0.9048270524660195, -0.8763066800438635, -0.844327925502015, -0.8090169943749475, -0.7705132427757893, -0.7289686274214114, -0.6845471059286885, -0.6374239897486895, -0.5877852522924732, -0.5358267949789967, -0.4817536741017152, -0.4257792915650725, -0.36812455268467775, -0.3090169943749471, -0.24868988716485482, -0.18738131458572457, -0.1253332335643041, -0.06279051952931314]
    #sine_pi_off = [1.0, 0.9980267284282716, 0.9921147013144778, 0.9822872507286886, 0.9685831611286311, 0.9510565162951535, 0.9297764858882513, 0.9048270524660195, 0.8763066800438635, 0.844327925502015, 0.8090169943749475, 0.7705132427757893, 0.7289686274214114, 0.6845471059286885, 0.6374239897486895, 0.5877852522924732, 0.5358267949789967, 0.4817536741017152, 0.4257792915650725, 0.36812455268467775, 0.3090169943749471, 0.24868988716485482, 0.18738131458572457, 0.1253332335643041, 0.06279051952931314, 0.0, -0.06279051952931337, -0.12533323356430426, -0.18738131458572463, -0.2486898871648548, -0.3090169943749474, -0.368124552684678, -0.4257792915650727, -0.4817536741017153, -0.5358267949789967, -0.5877852522924731, -0.6374239897486897, -0.6845471059286887, -0.7289686274214116, -0.7705132427757893, -0.8090169943749475, -0.8443279255020151, -0.8763066800438637, -0.9048270524660196, -0.9297764858882515, -0.9510565162951535, -0.9685831611286311, -0.9822872507286887, -0.9921147013144779, -0.9980267284282716, -1.0, -0.9980267284282716, -0.9921147013144778, -0.9822872507286886, -0.9685831611286311, -0.9510565162951535, -0.9297764858882513, -0.9048270524660195, -0.8763066800438635, -0.844327925502015, -0.8090169943749475, -0.7705132427757893, -0.7289686274214114, -0.6845471059286885, -0.6374239897486895, -0.5877852522924732, -0.5358267949789967, -0.4817536741017152, -0.4257792915650725, -0.36812455268467775, -0.3090169943749471, -0.24868988716485482, -0.18738131458572457, -0.1253332335643041, -0.06279051952931314, 0.0, 0.06279051952931337, 0.12533323356430426, 0.18738131458572463, 0.2486898871648548, 0.3090169943749474, 0.368124552684678, 0.4257792915650727, 0.4817536741017153, 0.5358267949789967, 0.5877852522924731, 0.6374239897486897, 0.6845471059286887, 0.7289686274214116, 0.7705132427757893, 0.8090169943749475, 0.8443279255020151, 0.8763066800438637, 0.9048270524660196, 0.9297764858882515, 0.9510565162951535, 0.9685831611286311, 0.9822872507286887, 0.9921147013144779, 0.9980267284282716 ]
    #positive_sine = [0.0, 0.06279051952931337, 0.12533323356430426, 0.18738131458572463, 0.2486898871648548, 0.3090169943749474, 0.368124552684678, 0.4257792915650727, 0.4817536741017153, 0.5358267949789967, 0.5877852522924731, 0.6374239897486897, 0.6845471059286887, 0.7289686274214116, 0.7705132427757893, 0.8090169943749475, 0.8443279255020151, 0.8763066800438637, 0.9048270524660196, 0.9297764858882515, 0.9510565162951535, 0.9685831611286311, 0.9822872507286887, 0.9921147013144779, 0.9980267284282716, 1.0, 0.9980267284282716, 0.9921147013144778, 0.9822872507286886, 0.9685831611286311, 0.9510565162951535, 0.9297764858882513, 0.9048270524660195, 0.8763066800438635, 0.844327925502015, 0.8090169943749475, 0.7705132427757893, 0.7289686274214114, 0.6845471059286885, 0.6374239897486895, 0.5877852522924732, 0.5358267949789967, 0.4817536741017152, 0.4257792915650725, 0.36812455268467775, 0.3090169943749471, 0.24868988716485482, 0.18738131458572457, 0.1253332335643041, 0.06279051952931314, 0.0, 0.06279051952931337, 0.12533323356430426, 0.18738131458572463, 0.2486898871648548, 0.3090169943749474, 0.368124552684678, 0.4257792915650727, 0.4817536741017153, 0.5358267949789967, 0.5877852522924731, 0.6374239897486897, 0.6845471059286887, 0.7289686274214116, 0.7705132427757893, 0.8090169943749475, 0.8443279255020151, 0.8763066800438637, 0.9048270524660196, 0.9297764858882515, 0.9510565162951535, 0.9685831611286311, 0.9822872507286887, 0.9921147013144779, 0.9980267284282716, 1.0, 0.9980267284282716, 0.9921147013144778, 0.9822872507286886, 0.9685831611286311, 0.9510565162951535, 0.9297764858882513, 0.9048270524660195, 0.8763066800438635, 0.844327925502015, 0.8090169943749475, 0.7705132427757893, 0.7289686274214114, 0.6845471059286885, 0.6374239897486895, 0.5877852522924732, 0.5358267949789967, 0.4817536741017152, 0.4257792915650725, 0.36812455268467775, 0.3090169943749471, 0.24868988716485482, 0.18738131458572457, 0.1253332335643041, 0.06279051952931314]
    #blob_weird = [0.0, 0.0, 0.0, 0.0, 0.0, 0, 0, 0, 0, 0.009016994374947407, 0.06812455268467799, 0.12577929156507273, 0.18175367410171533, 0.23582679497899667, 0.28778525229247315, 0.33742398974868976, 0.38454710592868874, 0.42896862742141156, 0.47051324277578926, 0.5090169943749474, 0.544327925502015, 0.5763066800438637, 0.6048270524660195, 0.6297764858882515, 0.6510565162951536, 0.668583161128631, 0.6822872507286888, 0.6921147013144779, 0.6980267284282715, 0.7, 0.6980267284282715, 0.6921147013144777, 0.6822872507286886, 0.668583161128631, 0.6510565162951536, 0.6297764858882513, 0.6048270524660195, 0.5763066800438634, 0.544327925502015, 0.5090169943749474, 0.47051324277578926, 0.42896862742141145, 0.3845471059286885, 0.33742398974868953, 0.28778525229247326, 0.23582679497899667, 0.18175367410171522, 0.1257792915650725, 0.06812455268467776, 0.00901699437494713, 0.0, 0.0, 0.0, 0.0, 0.0, 0, 0, 0, 0, 0.009016994374947407, 0.06812455268467799, 0.12577929156507273, 0.18175367410171533, 0.23582679497899667, 0.28778525229247315, 0.33742398974868976, 0.38454710592868874, 0.42896862742141156, 0.47051324277578926, 0.5090169943749474, 0.544327925502015, 0.5763066800438637, 0.6048270524660195, 0.6297764858882515, 0.6510565162951536, 0.668583161128631, 0.6822872507286888, 0.6921147013144779, 0.6980267284282715, 0.7, 0.6980267284282715, 0.6921147013144777, 0.6822872507286886, 0.668583161128631, 0.6510565162951536, 0.6297764858882513, 0.6048270524660195, 0.5763066800438634, 0.544327925502015, 0.5090169943749474, 0.47051324277578926, 0.42896862742141145, 0.3845471059286885, 0.33742398974868953, 0.28778525229247326, 0.23582679497899667, 0.18175367410171522, 0.1257792915650725, 0.06812455268467776, 0.00901699437494713]
    #positive_sine_quadrupel = [0.0, 0.2486898871648548, 0.4817536741017153, 0.6845471059286887, 0.8443279255020151, 0.9510565162951535, 0.9980267284282716, 0.9822872507286886, 0.9048270524660195, 0.7705132427757893, 0.5877852522924732, 0.36812455268467775, 0.1253332335643041, 0.12533323356430426, 0.368124552684678, 0.5877852522924731, 0.7705132427757893, 0.9048270524660196, 0.9822872507286887, 0.9980267284282716, 0.9510565162951535, 0.844327925502015, 0.6845471059286885, 0.4817536741017152, 0.24868988716485482, 0.0, 0.2486898871648548, 0.4817536741017153, 0.6845471059286887, 0.8443279255020151, 0.9510565162951535, 0.9980267284282716, 0.9822872507286886, 0.9048270524660195, 0.7705132427757893, 0.5877852522924732, 0.36812455268467775, 0.1253332335643041, 0.12533323356430426, 0.368124552684678, 0.5877852522924731, 0.7705132427757893, 0.9048270524660196, 0.9822872507286887, 0.9980267284282716, 0.9510565162951535, 0.844327925502015, 0.6845471059286885, 0.4817536741017152, 0.24868988716485482, 0.0, 0.2486898871648548, 0.4817536741017153, 0.6845471059286887, 0.8443279255020151, 0.9510565162951535, 0.9980267284282716, 0.9822872507286886, 0.9048270524660195, 0.7705132427757893, 0.5877852522924732, 0.36812455268467775, 0.1253332335643041, 0.12533323356430426, 0.368124552684678, 0.5877852522924731, 0.7705132427757893, 0.9048270524660196, 0.9822872507286887, 0.9980267284282716, 0.9510565162951535, 0.844327925502015, 0.6845471059286885, 0.4817536741017152, 0.24868988716485482, 0.0, 0.2486898871648548, 0.4817536741017153, 0.6845471059286887, 0.8443279255020151, 0.9510565162951535, 0.9980267284282716, 0.9822872507286886, 0.9048270524660195, 0.7705132427757893, 0.5877852522924732, 0.36812455268467775, 0.1253332335643041, 0.12533323356430426, 0.368124552684678, 0.5877852522924731, 0.7705132427757893, 0.9048270524660196, 0.9822872507286887, 0.9980267284282716, 0.9510565162951535, 0.844327925502015, 0.6845471059286885, 0.4817536741017152, 0.24868988716485482]
    
    half_sine = [0.0, 0.06279051952931337, 0.12533323356430426, 0.18738131458572463, 0.2486898871648548, 0.3090169943749474, 0.368124552684678, 0.4257792915650727, 0.4817536741017153, 0.5358267949789967, 0.5877852522924731, 0.6374239897486897, 0.6845471059286887, 0.7289686274214116, 0.7705132427757893, 0.8090169943749475, 0.8443279255020151, 0.8763066800438637, 0.9048270524660196, 0.9297764858882515, 0.9510565162951535, 0.9685831611286311, 0.9822872507286887, 0.9921147013144779, 0.9980267284282716, 1.0, 0.9980267284282716, 0.9921147013144778, 0.9822872507286886, 0.9685831611286311, 0.9510565162951535, 0.9297764858882513, 0.9048270524660195, 0.8763066800438635, 0.844327925502015, 0.8090169943749475, 0.7705132427757893, 0.7289686274214114, 0.6845471059286885, 0.6374239897486895, 0.5877852522924732, 0.5358267949789967, 0.4817536741017152, 0.4257792915650725, 0.36812455268467775, 0.3090169943749471, 0.24868988716485482, 0.18738131458572457, 0.1253332335643041, 0.06279051952931314, 
                 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    half_sine2 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                  0.0, 0.06279051952931337, 0.12533323356430426, 0.18738131458572463, 0.2486898871648548, 0.3090169943749474, 0.368124552684678, 0.4257792915650727, 0.4817536741017153, 0.5358267949789967, 0.5877852522924731, 0.6374239897486897, 0.6845471059286887, 0.7289686274214116, 0.7705132427757893, 0.8090169943749475, 0.8443279255020151, 0.8763066800438637, 0.9048270524660196, 0.9297764858882515, 0.9510565162951535, 0.9685831611286311, 0.9822872507286887, 0.9921147013144779, 0.9980267284282716, 1.0, 0.9980267284282716, 0.9921147013144778, 0.9822872507286886, 0.9685831611286311, 0.9510565162951535, 0.9297764858882513, 0.9048270524660195, 0.8763066800438635, 0.844327925502015, 0.8090169943749475, 0.7705132427757893, 0.7289686274214114, 0.6845471059286885, 0.6374239897486895, 0.5877852522924732, 0.5358267949789967, 0.4817536741017152, 0.4257792915650725, 0.36812455268467775, 0.3090169943749471, 0.24868988716485482, 0.18738131458572457, 0.1253332335643041, 0.06279051952931314] 
    
    half_minus_sine = [0.0, -0.06279051952931337, -0.12533323356430426, -0.18738131458572463, -0.2486898871648548, -0.3090169943749474, -0.368124552684678, -0.4257792915650727, -0.4817536741017153, -0.5358267949789967, -0.5877852522924731, -0.6374239897486897, -0.6845471059286887, -0.7289686274214116, -0.7705132427757893, -0.8090169943749475, -0.8443279255020151, -0.8763066800438637, -0.9048270524660196, -0.9297764858882515, -0.9510565162951535, -0.9685831611286311, -0.9822872507286887, -0.9921147013144779, -0.9980267284282716, -1.0, -0.9980267284282716, -0.9921147013144778, -0.9822872507286886, -0.9685831611286311, -0.9510565162951535, -0.9297764858882513, -0.9048270524660195, -0.8763066800438635, -0.844327925502015, -0.8090169943749475, -0.7705132427757893, -0.7289686274214114, -0.6845471059286885, -0.6374239897486895, -0.5877852522924732, -0.5358267949789967, -0.4817536741017152, -0.4257792915650725, -0.36812455268467775, -0.3090169943749471, -0.24868988716485482, -0.18738131458572457, -0.1253332335643041, -0.06279051952931314,
                        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    half_minus_sine2 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        0.0, -0.06279051952931337, -0.12533323356430426, -0.18738131458572463, -0.2486898871648548, -0.3090169943749474, -0.368124552684678, -0.4257792915650727, -0.4817536741017153, -0.5358267949789967, -0.5877852522924731, -0.6374239897486897, -0.6845471059286887, -0.7289686274214116, -0.7705132427757893, -0.8090169943749475, -0.8443279255020151, -0.8763066800438637, -0.9048270524660196, -0.9297764858882515, -0.9510565162951535, -0.9685831611286311, -0.9822872507286887, -0.9921147013144779, -0.9980267284282716, -1.0, -0.9980267284282716, -0.9921147013144778, -0.9822872507286886, -0.9685831611286311, -0.9510565162951535, -0.9297764858882513, -0.9048270524660195, -0.8763066800438635, -0.844327925502015, -0.8090169943749475, -0.7705132427757893, -0.7289686274214114, -0.6845471059286885, -0.6374239897486895, -0.5877852522924732, -0.5358267949789967, -0.4817536741017152, -0.4257792915650725, -0.36812455268467775, -0.3090169943749471, -0.24868988716485482, -0.18738131458572457, -0.1253332335643041, -0.06279051952931314]
    
    weird_blob = [0.0, 0.0, 0.0, 0.0, 0.0, 0, 0, 0, 0, 0.009016994374947407, 0.06812455268467799, 0.12577929156507273, 0.18175367410171533, 0.23582679497899667, 0.28778525229247315, 0.33742398974868976, 0.38454710592868874, 0.42896862742141156, 0.47051324277578926, 0.5090169943749474, 0.544327925502015, 0.5763066800438637, 0.6048270524660195, 0.6297764858882515, 0.6510565162951536, 0.668583161128631, 0.6822872507286888, 0.6921147013144779, 0.6980267284282715, 0.7, 0.6980267284282715, 0.6921147013144777, 0.6822872507286886, 0.668583161128631, 0.6510565162951536, 0.6297764858882513, 0.6048270524660195, 0.5763066800438634, 0.544327925502015, 0.5090169943749474, 0.47051324277578926, 0.42896862742141145, 0.3845471059286885, 0.33742398974868953, 0.28778525229247326, 0.23582679497899667, 0.18175367410171522, 0.1257792915650725, 0.06812455268467776, 0.00901699437494713,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    weird_blob2 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                   0.0, 0.0, 0.0, 0.0, 0.0, 0, 0, 0, 0, 0.009016994374947407, 0.06812455268467799, 0.12577929156507273, 0.18175367410171533, 0.23582679497899667, 0.28778525229247315, 0.33742398974868976, 0.38454710592868874, 0.42896862742141156, 0.47051324277578926, 0.5090169943749474, 0.544327925502015, 0.5763066800438637, 0.6048270524660195, 0.6297764858882515, 0.6510565162951536, 0.668583161128631, 0.6822872507286888, 0.6921147013144779, 0.6980267284282715, 0.7, 0.6980267284282715, 0.6921147013144777, 0.6822872507286886, 0.668583161128631, 0.6510565162951536, 0.6297764858882513, 0.6048270524660195, 0.5763066800438634, 0.544327925502015, 0.5090169943749474, 0.47051324277578926, 0.42896862742141145, 0.3845471059286885, 0.33742398974868953, 0.28778525229247326, 0.23582679497899667, 0.18175367410171522, 0.1257792915650725, 0.06812455268467776, 0.00901699437494713]
    
    pattern = [half_sine, half_sine2, half_minus_sine, half_minus_sine2, weird_blob, weird_blob2]
    
    def __init__(self):
        '''
        self.pattern = [self.getPatternFromPath(self.path1),
                        self.getPatternFromPath(self.path2),
                        self.getPatternFromPath(self.path3),
                        self.getPatternFromPath(self.path4)]
        '''
            
        self.values = [0] * self.number_of_patterns
        self.currentstep = 0
        
    '''    
    def getPatternFromPath(self, path):
        tmparray = []
        with open(str(path), 'r') as csvfile:
            patternreader = csv.reader(csvfile, delimiter=' ', quotechar='|')
            for row in patternreader:
                tmparray.append(float(row[1]))
        return tmparray
    '''

    def nextStep(self):
        self.currentstep += self.step_length
        self._handleOverflow()

        for index in range(0, self.number_of_patterns):
            self.values[index] = self.pattern[index][self.currentstep]
            
        return self.values

    def getNumberOfPatterns(self):
        return self.number_of_patterns
    
    def _handleOverflow(self):
        if self.currentstep >= self.phase:
            self.currentstep -= self.phase
            
    def increasePhaseByPI(self):
        self.currentstep += self.half_phase
        self._handleOverflow()
        
